{% schema %}
  {
    "name": "New Arrivals",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Section Title",
        "default": "New Arrival"
      }, {
        "type": "collection",
        "id": "collection",
        "label": "Collection"
      }, {
        "type": "url",
        "id": "see_all_link",
        "label": "Section See All Link",
        "default": "/collections/all"
      }
    ],
    "presets": [
      {
        "name": "New Arrivals"
      }
    ]
  }
{% endschema %}

<div class="new-arrivals w-full px-4 mt-6">
  <!-- Title & Button -->
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-lg font-bold text-black">{{ section.settings.title }}</h2>
    <a href="{{ section.settings.see_all_link }}" class="text-primary text-sm font-medium">See All</a>
  </div>

  <!-- Horizontally Scrollable Product List -->
  <div class="flex gap-4 overflow-x-auto scroll-smooth scrollbar-hide whitespace-nowrap">
    {% for product in section.settings.collection.products limit: 10 %}
      <div class="min-w-[170px] h-[260px] rounded-lg bg-[#F7F7F7] flex flex-col">
        <!-- Product Image -->
        <div class="relative w-[calc(100%-8px)] h-[180px] m-1">
          <img
            src="{{ product.featured_image | img_url: 'medium' }}"
            alt="{{ product.title | escape }}"
            height="180"
            width="180"
            class="w-full h-full object-cover rounded-lg"
            loading="lazy">
        </div>

        <!-- Product Info -->
        <div class="p-2 flex flex-col text-left">
          <p class="text-sm font-medium text-black">{{ product.title | truncate: 20 }}</p>
          <p class="text-base font-semibold text-black mt-1">
            {{ product.price | money }}
          </p>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

<style>
  .new-arrivals {
    width: 100%;
    padding-left: 1rem;
    padding-right: 1rem;
    margin-top: 1.5rem;
  }

  .flex {
    display: flex;
  }

  .justify-between {
    justify-content: space-between;
  }

  .items-center {
    align-items: center;
  }

  .mb-4 {
    margin-bottom: 1rem;
  }

  .text-lg {
    font-size: 1.125rem;
  }

  .font-bold {
    font-weight: 700;
  }

  .text-black {
    color: #000;
  }

  .text-primary {
    color: var(--primary, #1f2937);
  }

  .text-sm {
    font-size: 0.875rem;
  }

  .font-medium {
    font-weight: 500;
  }

  .gap-4 {
    gap: 1rem;
  }

  .overflow-x-auto {
    overflow-x: auto;
  }

  .scroll-smooth {
    scroll-behavior: smooth;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .whitespace-nowrap {
    white-space: nowrap;
  }

  .min-w-[170px] {
    min-width: 170px;
  }

  .h-[260px] {
    height: 260px;
  }

  .rounded-lg {
    border-radius: 0.5rem;
  }

  .bg-[#F7F7F7] {
    background-color: #F7F7F7;
  }

  .flex-col {
    flex-direction: column;
  }

  .relative {
    position: relative;
  }

  .w-[calc(100%-8px)] {
    width: calc(100% - 8px);
  }

  .h-[180px] {
    height: 180px;
  }

  .m-1 {
    margin: 0.25rem;
  }

  .w-full {
    width: 100%;
  }

  .h-full {
    height: 100%;
  }

  .object-cover {
    object-fit: cover;
  }

  .p-2 {
    padding: 0.5rem;
  }

  .text-left {
    text-align: left;
  }

  .text-base {
    font-size: 1rem;
  }

  .font-semibold {
    font-weight: 600;
  }

  .mt-1 {
    margin-top: 0.25rem;
  }
</style>